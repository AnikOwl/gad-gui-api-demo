<!DOCTYPE html>
<html>
  <head>
    <title>DataBase Visualizer</title>
    <link rel="icon" href="./../data/icons/favicon.png" />
    <link rel="stylesheet" href="./../css/infoBoxes.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
      integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
      crossorigin="anonymous"
    />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto" rel="stylesheet" />
    <script src="./../js/libs/codemirror.js"></script>
    <link rel="stylesheet" href="./../js/libs/codemirror.css" />
    <script src="./../js/libs/sql.js"></script>
    <style>
      /* Existing styles */
      table {
        border-collapse: collapse;
      }
      th,
      td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      .primary-key {
        background-color: yellow;
      }
      .foreign-key {
        background-color: lightblue;
      }

      .highlight {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          background-color: rgb(182, 255, 114);
        }
        25% {
          background-color: rgb(255, 114, 114);
        }
        75% {
          background-color: rgb(140, 114, 255);
        }
        100% {
          background-color: rgb(182, 255, 114);
        }
      }

      /* New styles for floating box */
      .floating-box {
        position: fixed;
        width: 400px;
        top: 0%;
        left: 100%;
        transform: translate(-100%, 0%);
        background-color: #c1e6ff;
        padding: 10px;
        border-color: black;
        border-style: solid;
        border-width: 1px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        z-index: 9999;
      }
    </style>
  </head>
  <body>
    <div class="floating-box" id="floatingBox">
      <label>SQL Query</label>
      <span style="max-width: 120px !important">
        <select id="sampleQuerySelect" style="max-width: 120px !important" onchange="selectSampleQuery()"></select
      ></span>
      ||
      <input type="checkbox" id="refreshRequest" name="refreshRequest" checked />
      <label for="refreshRequest">Refresh</label>
      <br />
      <textarea
        id="sqlQuery"
        type="text"
        placeholder="SQL Query"
        title="Type in a name"
        style="width: 100%"
        rows="4"
      ></textarea>
      <button onclick="runQuery()">Run üèÉ‚Äç‚ôÇÔ∏è</button> || <button id="resizeBtn">üëÄ</button> ||
      <label id="queryInfo"></label>
    </div>
    <h2>DataBase Visualizer</h2>
    Read-only SQL query tool for the ü¶éGAD database.<br /><br />
    <button id="refreshBtn" onclick="refreshData()">Refresh / Clear Results</button>
    <label id="statsLbl">...</label>

    <div id="jsonTable"></div>
    <script src="../js/alasql.min.js"></script>
    <script type="text/javascript" src="../js/dbvisualizer.js"></script>
  </body>
</html>
